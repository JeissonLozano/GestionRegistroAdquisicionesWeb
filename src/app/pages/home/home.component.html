<!-- Elementos de fondo animados -->
<div class="bg-elements">
  <div class="floating-shape shape1"></div>
  <div class="floating-shape shape2"></div>
  <div class="floating-shape shape3"></div>
</div>

<!-- Header compartido -->
<app-header></app-header>

<!-- Contenido principal -->
<main class="main-content">
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">
        GestiÃ³n Inteligente de 
        <span class="title-accent">Adquisiciones</span>
      </h1>
      <p class="hero-subtitle">
        Optimiza tus procesos de adquisiciones con una plataforma moderna, intuitiva y completamente integrada. Controla desde requerimientos hasta proveedores en un solo lugar.
      </p>
      
      <div class="cta-buttons">
        <button class="btn btn-primary" (click)="irACrear()">
          ðŸš€ Crear Nuevo Requerimiento
        </button>
        <button class="btn btn-secondary" (click)="irAConsultar()">
          ðŸ“Š Consultar Adquisiciones
        </button>
      </div>

      <!-- Estados de carga y error -->
      <div *ngIf="cargando" class="loading-state">
        <div class="loading-spinner"></div>
        <p>Cargando estadÃ­sticas...</p>
      </div>

      <div *ngIf="error" class="error-state">
        <p>Error al cargar los datos</p>
        <button class="btn btn-secondary" (click)="recargarDatos()">
          ðŸ”„ Reintentar
        </button>
      </div>

      <!-- EstadÃ­sticas dinÃ¡micas -->
      <div *ngIf="!cargando && !error && estadisticas" class="stats-grid">
        <div class="stat-item">
          <span class="stat-number">{{ formatearNumero(estadisticas.totalRequerimientos) }}</span>
          <span class="stat-label">Requerimientos Activos</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ formatearMoneda(estadisticas.presupuestoTotal) }}</span>
          <span class="stat-label">Presupuesto Gestionado</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ formatearNumero(estadisticas.totalProveedores) }}</span>
          <span class="stat-label">Proveedores Activos</span>
        </div>
      </div>

      <!-- Estado sin datos -->
      <div *ngIf="!cargando && !error && !estadisticas" class="no-data-state">
        <p>No hay datos disponibles</p>
        <button class="btn btn-secondary" (click)="recargarDatos()">
          ðŸ”„ Actualizar
        </button>
      </div>
    </div>

    <div class="hero-visual">
      <div class="dashboard-preview">
        <div class="preview-header">
          <div class="preview-logo">ADRES</div>
          <div class="preview-menu">
            <div class="menu-dot"></div>
            <div class="menu-dot"></div>
            <div class="menu-dot"></div>
          </div>
        </div>
        <div class="preview-content">
          <!-- Preview dinÃ¡mico de adquisiciones -->
          <div *ngFor="let adquisicion of adquisicionesPreview" class="preview-card">
            <div class="card-title">{{ adquisicion.tipoBienServicio }}</div>
            <div class="card-value">{{ formatearMoneda(adquisicion.valorTotal) }}</div>
          </div>

          <!-- Estado sin datos para preview -->
          <div *ngIf="adquisicionesPreview.length === 0 && !cargando" class="preview-card no-data">
            <div class="card-title">Sin datos</div>
            <div class="card-value">--</div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
